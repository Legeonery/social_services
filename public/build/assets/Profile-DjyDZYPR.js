import{d as m,A as S,s as g,o as p,w as a,k as _,z as v,u as e,e as x,a as t,b as c,c as $,n as D,r as O,C as P,x as f,H as T,m as I,g as M,j as C,P as U,T as j,h as N,J as A}from"./app-DXa2VlGV.js";import{a as V,_ as q}from"./Layout.vue_vue_type_script_setup_true_lang-B2N-_DFt.js";import{_ as h,a as k,b as B}from"./Label.vue_vue_type_script_setup_true_lang-C7sE-vJa.js";import{P as H,a as y,_ as b}from"./index-DKKzq88K.js";import{a as R,d as E,e as z}from"./RovingFocusGroup-KvIestG1.js";import{i as J,a as K,b as F,c as X,d as G,e as L,X as Q,f as W,g as Y,_ as Z}from"./AppLayout.vue_vue_type_script_setup_true_lang-dj-OOfQw.js";import{a as ee}from"./useForwardExpose-BWdJdQw-.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BPblcbSB.js";const se=m({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(n){const l=n,s=J(),{forwardRef:d,currentElement:r}=ee();return s.contentId||(s.contentId=R(void 0,"reka-dialog-content")),S(()=>{s.triggerElement.value=r.value}),(u,o)=>(p(),g(e(H),v(l,{ref:e(d),type:u.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":e(s).open.value||!1,"aria-controls":e(s).open.value?e(s).contentId:void 0,"data-state":e(s).open.value?"open":"closed",onClick:e(s).onOpenToggle}),{default:a(()=>[_(u.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),te=m({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(n,{emit:l}){const r=E(n,l);return(u,o)=>(p(),g(e(K),v({"data-slot":"dialog"},e(r)),{default:a(()=>[_(u.$slots,"default")]),_:3},16))}}),ae=m({__name:"DialogClose",props:{asChild:{type:Boolean},as:{}},setup(n){const l=n;return(s,d)=>(p(),g(e(F),v({"data-slot":"dialog-close"},l),{default:a(()=>[_(s.$slots,"default")]),_:3},16))}}),oe=m({__name:"DialogOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(n){const l=n,s=x(()=>{const{class:d,...r}=l;return r});return(d,r)=>(p(),g(e(X),v({"data-slot":"dialog-overlay"},s.value,{class:e(y)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",l.class)}),{default:a(()=>[_(d.$slots,"default")]),_:3},16,["class"]))}}),le=m({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(n,{emit:l}){const s=n,d=l,r=x(()=>{const{class:o,...i}=s;return i}),u=E(r,d);return(o,i)=>(p(),g(e(G),null,{default:a(()=>[t(oe),t(e(L),v({"data-slot":"dialog-content"},e(u),{class:e(y)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s.class)}),{default:a(()=>[_(o.$slots,"default"),t(e(F),{class:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4"},{default:a(()=>[t(e(Q)),i[0]||(i[0]=c("span",{class:"sr-only"},"Close",-1))]),_:1})]),_:3},16,["class"])]),_:3}))}}),re=m({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const l=n,s=x(()=>{const{class:r,...u}=l;return u}),d=z(s);return(r,u)=>(p(),g(e(W),v({"data-slot":"dialog-description"},e(d),{class:e(y)("text-muted-foreground text-sm",l.class)}),{default:a(()=>[_(r.$slots,"default")]),_:3},16,["class"]))}}),ne=m({__name:"DialogFooter",props:{class:{}},setup(n){const l=n;return(s,d)=>(p(),$("div",{"data-slot":"dialog-footer",class:D(e(y)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",l.class))},[_(s.$slots,"default")],2))}}),de=m({__name:"DialogHeader",props:{class:{}},setup(n){const l=n;return(s,d)=>(p(),$("div",{"data-slot":"dialog-header",class:D(e(y)("flex flex-col gap-2 text-center sm:text-left",l.class))},[_(s.$slots,"default")],2))}}),ie=m({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const l=n,s=x(()=>{const{class:r,...u}=l;return u}),d=z(s);return(r,u)=>(p(),g(e(Y),v({"data-slot":"dialog-title"},e(d),{class:e(y)("text-md leading-none font-semibold",l.class)}),{default:a(()=>[_(r.$slots,"default")]),_:3},16,["class"]))}}),ue=m({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(n){const l=n;return(s,d)=>(p(),g(e(se),v({"data-slot":"dialog-trigger"},l),{default:a(()=>[_(s.$slots,"default")]),_:3},16))}}),ce={class:"space-y-6"},pe={class:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10"},me={class:"grid gap-2"},fe=m({__name:"DeleteUser",setup(n){const l=O(null),s=P({password:""}),d=u=>{u.preventDefault(),s.delete(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>r(),onError:()=>{var o;return(o=l.value)==null?void 0:o.focus()},onFinish:()=>s.reset()})},r=()=>{s.clearErrors(),s.reset()};return(u,o)=>(p(),$("div",ce,[t(V,{title:"Удаление аккаунта",description:"Удалите свою учетную запись и все ее ресурсы"}),c("div",pe,[o[7]||(o[7]=c("div",{class:"relative space-y-0.5 text-red-600 dark:text-red-100"},[c("p",{class:"font-medium"},"Предупреждение"),c("p",{class:"text-sm"},"Пожалуйста, действуйте осторожно, это нельзя отменить.")],-1)),t(e(te),null,{default:a(()=>[t(e(ue),{"as-child":""},{default:a(()=>[t(e(b),{variant:"destructive"},{default:a(()=>o[1]||(o[1]=[f("Удалить аккаунт")])),_:1})]),_:1}),t(e(le),null,{default:a(()=>[c("form",{class:"space-y-5",onSubmit:d},[t(e(de),{class:"space-y-3"},{default:a(()=>[t(e(ie),null,{default:a(()=>o[2]||(o[2]=[f("Вы уверены, что хотите удалить свою учетную запись?")])),_:1}),t(e(re),null,{default:a(()=>o[3]||(o[3]=[f(" После удаления вашей учетной записи все ее ресурсы и данные также будут удалены безвозвратно. Пожалуйста, введите свой пароль, чтобы подтвердить, что вы хотите безвозвратно удалить свою учетную запись. ")])),_:1})]),_:1}),c("div",me,[t(e(h),{for:"password",class:"sr-only"},{default:a(()=>o[4]||(o[4]=[f("Пароль")])),_:1}),t(e(k),{id:"password",type:"password",name:"password",ref_key:"passwordInput",ref:l,modelValue:e(s).password,"onUpdate:modelValue":o[0]||(o[0]=i=>e(s).password=i),placeholder:"Пароль"},null,8,["modelValue"]),t(B,{message:e(s).errors.password},null,8,["message"])]),t(e(ne),{class:"gap-2"},{default:a(()=>[t(e(ae),{"as-child":""},{default:a(()=>[t(e(b),{variant:"secondary",onClick:r},{default:a(()=>o[5]||(o[5]=[f(" Отмена ")])),_:1})]),_:1}),t(e(b),{variant:"destructive",disabled:e(s).processing},{default:a(()=>o[6]||(o[6]=[c("button",{type:"submit"},"Удалить аккаунт",-1)])),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1})])]))}}),_e={class:"flex flex-col space-y-6"},ge={class:"grid gap-2"},ve={class:"grid gap-2"},ye={key:0},$e={class:"text-muted-foreground -mt-4 text-sm"},be={key:0,class:"mt-2 text-sm font-medium text-green-600"},xe={class:"flex items-center gap-4"},we={class:"text-sm text-neutral-600"},ze=m({__name:"Profile",props:{mustVerifyEmail:{type:Boolean},status:{}},setup(n){const l=[{title:"Настройки профиля",href:"/settings/profile"}],d=T().props.auth.user,r=P({name:d.name,email:d.email}),u=()=>{r.patch(route("profile.update"),{preserveScroll:!0})};return(o,i)=>(p(),g(Z,{breadcrumbs:l},{default:a(()=>[t(e(I),{title:"Настройки профиля"}),t(q,null,{default:a(()=>[c("div",_e,[t(V,{title:"Информация о профиле",description:"Обновите свое имя и адрес электронной почты"}),c("form",{onSubmit:M(u,["prevent"]),class:"space-y-6"},[c("div",ge,[t(e(h),{for:"name"},{default:a(()=>i[2]||(i[2]=[f("Имя")])),_:1}),t(e(k),{id:"name",class:"mt-1 block w-full",modelValue:e(r).name,"onUpdate:modelValue":i[0]||(i[0]=w=>e(r).name=w),required:"",autocomplete:"name",placeholder:"Полное имя"},null,8,["modelValue"]),t(B,{class:"mt-2",message:e(r).errors.name},null,8,["message"])]),c("div",ve,[t(e(h),{for:"email"},{default:a(()=>i[3]||(i[3]=[f("Адрес электронной почты")])),_:1}),t(e(k),{id:"email",type:"email",class:"mt-1 block w-full",modelValue:e(r).email,"onUpdate:modelValue":i[1]||(i[1]=w=>e(r).email=w),required:"",autocomplete:"username",placeholder:"Адрес электронной почты"},null,8,["modelValue"]),t(B,{class:"mt-2",message:e(r).errors.email},null,8,["message"])]),o.mustVerifyEmail&&!e(d).email_verified_at?(p(),$("div",ye,[c("p",$e,[i[5]||(i[5]=f(" Ваш адрес электронной почты непроверен. ")),t(e(U),{href:o.route("verification.send"),method:"post",as:"button",class:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500"},{default:a(()=>i[4]||(i[4]=[f(" Нажмите здесь, чтобы повторно отправить письмо для проверки. ")])),_:1},8,["href"])]),o.status==="verification-link-sent"?(p(),$("div",be," На ваш адрес электронной почты отправлена новая ссылка для проверки. ")):C("",!0)])):C("",!0),c("div",xe,[t(e(b),{disabled:e(r).processing},{default:a(()=>i[6]||(i[6]=[f("Сохранить")])),_:1},8,["disabled"]),t(j,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:a(()=>[N(c("p",we,"Сохранение...",512),[[A,e(r).recentlySuccessful]])]),_:1})])],32)]),t(fe)]),_:1})]),_:1}))}});export{ze as default};
