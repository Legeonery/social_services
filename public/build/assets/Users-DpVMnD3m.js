import{r as c,p as Y,c as n,o as i,b as t,t as d,g as ot,j as v,h as k,v as x,i as Z,d as L,q as it,f as R,e as I,s as z,a as X,u as rt,m as nt,w as dt,n as C,x as $,F as P,l as B}from"./app-DXa2VlGV.js";import{_ as ut}from"./AppLayout.vue_vue_type_script_setup_true_lang-dj-OOfQw.js";import"./index-DKKzq88K.js";import"./useForwardExpose-BWdJdQw-.js";import"./RovingFocusGroup-KvIestG1.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BPblcbSB.js";const mt={class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50"},pt={class:"w-full max-w-md rounded-lg bg-white p-6 shadow-xl dark:bg-gray-800"},vt={class:"mb-4 text-xl font-semibold dark:text-white"},bt={key:0},kt={class:"flex justify-end gap-2 pt-4"},ct={type:"submit",class:"rounded bg-blue-600 px-4 py-2 text-white hover:bg-blue-700"},xt={__name:"AddAdmin",props:{modelValue:Object,isEdit:Boolean},emits:["submit","cancel"],setup(h,{emit:m}){const b=h,f=m,s=c({fullName:"",phone:"",email:"",status:""});Y(()=>{var p;if(b.modelValue){const[l="",a="",u=""]=((p=b.modelValue.fullName)==null?void 0:p.split(" "))||[];s.value={lastName:l,firstName:a,middleName:u,phone:b.modelValue.phone||"",email:b.modelValue.email||"",status:b.modelValue.status||"Активный"}}});const N=()=>{f("submit",s.value)};return(p,l)=>(i(),n("div",mt,[t("div",pt,[t("h2",vt,d(h.isEdit?"Редактировать администратора":"Добавить администратора"),1),t("form",{onSubmit:ot(N,["prevent"]),class:"space-y-4"},[t("div",null,[l[7]||(l[7]=t("label",{class:"block text-sm font-medium dark:text-white"},"Фамилия *",-1)),k(t("input",{"onUpdate:modelValue":l[0]||(l[0]=a=>s.value.lastName=a),required:"",class:"w-full rounded border p-2 dark:bg-gray-700 dark:text-white"},null,512),[[x,s.value.lastName]])]),t("div",null,[l[8]||(l[8]=t("label",{class:"block text-sm font-medium dark:text-white"},"Имя *",-1)),k(t("input",{"onUpdate:modelValue":l[1]||(l[1]=a=>s.value.firstName=a),required:"",class:"w-full rounded border p-2 dark:bg-gray-700 dark:text-white"},null,512),[[x,s.value.firstName]])]),t("div",null,[l[9]||(l[9]=t("label",{class:"block text-sm font-medium dark:text-white"},"Отчество",-1)),k(t("input",{"onUpdate:modelValue":l[2]||(l[2]=a=>s.value.middleName=a),class:"w-full rounded border p-2 dark:bg-gray-700 dark:text-white"},null,512),[[x,s.value.middleName]])]),t("div",null,[l[10]||(l[10]=t("label",{class:"block text-sm font-medium dark:text-white"},"Телефон *",-1)),k(t("input",{"onUpdate:modelValue":l[3]||(l[3]=a=>s.value.phone=a),required:"",class:"w-full rounded border p-2 dark:bg-gray-700 dark:text-white"},null,512),[[x,s.value.phone]])]),t("div",null,[l[11]||(l[11]=t("label",{class:"block text-sm font-medium dark:text-white"},"Email *",-1)),k(t("input",{"onUpdate:modelValue":l[4]||(l[4]=a=>s.value.email=a),required:"",type:"email",class:"w-full rounded border p-2 dark:bg-gray-700 dark:text-white"},null,512),[[x,s.value.email]])]),h.isEdit?(i(),n("div",bt,[l[13]||(l[13]=t("label",{class:"block text-sm font-medium dark:text-white"},"Статус",-1)),k(t("select",{"onUpdate:modelValue":l[5]||(l[5]=a=>s.value.status=a),class:"w-full rounded border p-2 dark:bg-gray-700 dark:text-white"},l[12]||(l[12]=[t("option",null,"Активный",-1),t("option",null,"Уволенный",-1)]),512),[[Z,s.value.status]])])):v("",!0),t("div",kt,[t("button",{type:"button",onClick:l[6]||(l[6]=a=>p.$emit("cancel")),class:"rounded bg-gray-200 px-4 py-2 dark:bg-gray-600 dark:text-white"}," Отмена "),t("button",ct,d(h.isEdit?"Сохранить":"Добавить"),1)])],32)])]))}},ft={class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50"},gt={class:"w-full max-w-lg rounded-lg bg-white p-6 shadow-lg dark:bg-gray-800"},yt={class:"mb-4 text-xl font-semibold dark:text-white"},wt={class:"mb-4"},ht={class:"mb-4"},Nt={class:"mb-4"},Ct={class:"mb-4"},$t={class:"mb-4"},Wt={key:0,class:"mb-4"},Vt={key:1},Et={class:"flex gap-2"},Ut={class:"mt-6 flex justify-end gap-2"},Pt=L({__name:"SocialWorkerForm",props:{modelValue:{},isEdit:{type:Boolean}},emits:["submit","cancel"],setup(h,{emit:m}){const b=h,f=m,s=it({lastName:"",firstName:"",middleName:"",phone:"",email:"",status:"Активный",unavailabilityPeriod:{from:"",to:""}});R(()=>b.modelValue,l=>{l&&Object.assign(s,{...s,...l,unavailabilityPeriod:l.unavailabilityPeriod||{from:"",to:""}})},{immediate:!0}),Y(()=>{b.isEdit||(s.status="Активный")}),R(()=>s.status,l=>{["На больничном","В отпуске"].includes(l)||(s.unavailabilityPeriod.from="",s.unavailabilityPeriod.to="")});function N(){const l={...s};["На больничном","В отпуске"].includes(l.status)||delete l.unavailabilityPeriod,f("submit",l)}function p(){f("cancel")}return(l,a)=>(i(),n("div",ft,[t("div",gt,[t("h2",yt,d(l.isEdit?"Редактировать соц. работника":"Добавить соц. работника"),1),t("div",wt,[a[8]||(a[8]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-white"},"Фамилия",-1)),k(t("input",{"onUpdate:modelValue":a[0]||(a[0]=u=>s.lastName=u),class:"mt-1 w-full rounded border p-2 dark:bg-gray-700 dark:text-white"},null,512),[[x,s.lastName]])]),t("div",ht,[a[9]||(a[9]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-white"},"Имя",-1)),k(t("input",{"onUpdate:modelValue":a[1]||(a[1]=u=>s.firstName=u),class:"mt-1 w-full rounded border p-2 dark:bg-gray-700 dark:text-white"},null,512),[[x,s.firstName]])]),t("div",Nt,[a[10]||(a[10]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-white"},"Отчество",-1)),k(t("input",{"onUpdate:modelValue":a[2]||(a[2]=u=>s.middleName=u),class:"mt-1 w-full rounded border p-2 dark:bg-gray-700 dark:text-white"},null,512),[[x,s.middleName]])]),t("div",Ct,[a[11]||(a[11]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-white"},"Телефон",-1)),k(t("input",{"onUpdate:modelValue":a[3]||(a[3]=u=>s.phone=u),class:"mt-1 w-full rounded border p-2 dark:bg-gray-700 dark:text-white"},null,512),[[x,s.phone]])]),t("div",$t,[a[12]||(a[12]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-white"},"Email",-1)),k(t("input",{"onUpdate:modelValue":a[4]||(a[4]=u=>s.email=u),class:"mt-1 w-full rounded border p-2 dark:bg-gray-700 dark:text-white"},null,512),[[x,s.email]])]),l.isEdit?(i(),n("div",Wt,[a[14]||(a[14]=t("label",{class:"block text-sm font-medium dark:text-white"},"Статус",-1)),k(t("select",{"onUpdate:modelValue":a[5]||(a[5]=u=>s.status=u),class:"w-full rounded border p-2 dark:bg-gray-700 dark:text-white"},a[13]||(a[13]=[t("option",{value:"Активный"},"Активный",-1),t("option",{value:"В отпуске"},"В отпуске",-1),t("option",{value:"На больничном"},"На больничном",-1),t("option",{value:"Уволенный"},"Уволенный",-1)]),512),[[Z,s.status]])])):v("",!0),["В отпуске","На больничном"].includes(s.status)?(i(),n("div",Vt,[a[15]||(a[15]=t("label",{class:"block text-sm font-medium dark:text-white"},"Период недоступности",-1)),t("div",Et,[k(t("input",{type:"date","onUpdate:modelValue":a[6]||(a[6]=u=>s.unavailabilityPeriod.from=u),class:"w-full rounded border p-2 dark:bg-gray-700 dark:text-white"},null,512),[[x,s.unavailabilityPeriod.from]]),k(t("input",{type:"date","onUpdate:modelValue":a[7]||(a[7]=u=>s.unavailabilityPeriod.to=u),class:"w-full rounded border p-2 dark:bg-gray-700 dark:text-white"},null,512),[[x,s.unavailabilityPeriod.to]])])])):v("",!0),t("div",Ut,[t("button",{onClick:p,class:"rounded border px-4 py-2 dark:border-gray-500 dark:text-white"},"Отмена"),t("button",{onClick:N,class:"rounded bg-blue-600 px-4 py-2 text-white hover:bg-blue-700"},d(l.isEdit?"Сохранить":"Добавить"),1)])])]))}}),St={key:2,class:"p-4 text-gray-500 dark:text-gray-400"},jt=L({__name:"UserFormWrapper",props:{activeTab:{},modelValue:{},isEdit:{type:Boolean}},emits:["submit","cancel"],setup(h,{emit:m}){const b=h,f=m,s=I(()=>b.activeTab==="admins"),N=I(()=>b.activeTab==="social_workers");return(p,l)=>s.value?(i(),z(xt,{key:0,"model-value":p.modelValue,"is-edit":p.isEdit,onSubmit:l[0]||(l[0]=a=>f("submit",a)),onCancel:l[1]||(l[1]=a=>f("cancel"))},null,8,["model-value","is-edit"])):N.value?(i(),z(Pt,{key:1,"model-value":p.modelValue,"is-edit":p.isEdit,onSubmit:l[2]||(l[2]=a=>f("submit",a)),onCancel:l[3]||(l[3]=a=>f("cancel"))},null,8,["model-value","is-edit"])):(i(),n("div",St,"Форма для выбранной вкладки не реализована."))}}),Ft={class:"space-y-4 p-4"},_t={class:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between"},Bt={class:"flex gap-2"},It={class:"overflow-x-auto rounded border dark:border-gray-700"},Tt={key:0,class:"min-w-full text-sm"},At={class:"bg-gray-100 dark:bg-gray-800 dark:text-gray-200"},Mt={key:0},qt={class:"p-2"},zt=["onClick"],Lt={title:"Открыть подробности"},Ot={class:"p-2"},Gt={class:"p-2"},Ht={class:"p-2"},Jt={class:"p-2"},Kt={class:"p-2"},Qt={key:0},Rt={key:1,class:"min-w-full text-sm"},Xt={class:"bg-gray-100 dark:bg-gray-800 dark:text-gray-200"},Yt={key:0},Zt={class:"p-2"},Dt=["onClick"],te={class:"p-2"},ee={class:"p-2"},le={class:"p-2"},ae={class:"p-2"},se={class:"flex justify-center gap-2"},oe=["onClick"],ie={key:0},re={key:2,class:"min-w-full text-sm"},ne={class:"bg-gray-100 dark:bg-gray-800 dark:text-gray-200"},de={key:0},ue={class:"p-2"},me={class:"p-2"},pe={class:"p-2"},ve={class:"p-2"},be={class:"p-2 text-center"},ke={class:"flex justify-center gap-2"},ce=["onClick"],xe=["onClick"],fe={key:0},ge={class:"flex justify-start pt-4"},ye={class:"inline-flex items-center gap-1"},we=["disabled"],he={key:0},Ne=["onClick"],Ce={key:2},$e=["disabled"],We={key:0,class:"fixed top-0 right-0 z-50 h-full w-1/3 overflow-y-auto bg-white p-4 shadow-xl dark:bg-gray-900"},Ve={key:0},Ee={key:1},Ue={class:"mt-2 list-disc pl-4"},q=14,Ie=L({__name:"Users",setup(h){const m=c("clients"),b=c(""),f=c(""),s=c(1),N=c(!1),p=c(null),l=c("asc"),a=c(""),u=c([{id:1,fullName:"Иван Иванов",phone:"+7 123 456-78-90",email:"ivanov@example.com",status:"Активный",type:"бюджетный",socialWorker:"Петров П.П.",avatar:"👤",tab:"clients"},{id:2,fullName:"Сергей Смирнов",phone:"+7 987 654-32-10",email:"smirnov@example.com",status:"Неактивный",type:"платный",socialWorker:"Петров П.П.",avatar:"👤",tab:"clients"},{id:3,fullName:"Мария Кузнецова",phone:"+7 900 111-22-33",email:"maria@example.com",status:"Активный",type:"бюджетный",socialWorker:"Сидорова И.И.",avatar:"👤",tab:"clients"},{id:4,fullName:"Анна Белова",phone:"+7 901 222-33-44",email:"anna@example.com",status:"Активный",type:"платный",socialWorker:"Сидорова И.И.",avatar:"👤",tab:"clients"},{id:5,fullName:"Дмитрий Орлов",phone:"+7 902 333-44-55",email:"orlov@example.com",status:"Неактивный",type:"бюджетный",socialWorker:"Петров П.П.",avatar:"👤",tab:"clients"},{id:6,fullName:"Наталья Егорова",phone:"+7 903 444-55-66",email:"natalya@example.com",status:"Активный",type:"платный",socialWorker:"Сидорова И.И.",avatar:"👤",tab:"clients"},{id:7,fullName:"Алексей Козлов",phone:"+7 904 555-66-77",email:"kozlova@example.com",status:"Неактивный",type:"бюджетный",socialWorker:"Петров П.П.",avatar:"👤",tab:"clients"},{id:8,fullName:"Оксана Лебедева",phone:"+7 905 666-77-88",email:"oksana@example.com",status:"Активный",type:"платный",socialWorker:"Сидорова И.И.",avatar:"👤",tab:"clients"},{id:9,fullName:"Павел Морозов",phone:"+7 906 777-88-99",email:"pavel@example.com",status:"Активный",type:"бюджетный",socialWorker:"Петров П.П.",avatar:"👤",tab:"clients"},{id:10,fullName:"Татьяна Васильева",phone:"+7 907 888-99-00",email:"tanya@example.com",status:"Неактивный",type:"платный",socialWorker:"Сидорова И.И.",avatar:"👤",tab:"clients"},{id:11,fullName:"Ольга Сидорова",phone:"+7 999 111-22-33",email:"olga@example.com",status:"В отпуске",avatar:"🧑‍⚕️",tab:"social_workers",socialWorkerClients:["Иван Иванов","Сергей Смирнов"]},{id:12,fullName:"Инна Захарова",phone:"+7 999 000-11-22",email:"inna@example.com",status:"Активный",avatar:"🧑‍⚕️",tab:"social_workers",socialWorkerClients:["Мария Кузнецова"]},{id:13,fullName:"Юлия Новикова",phone:"+7 999 123-45-67",email:"yulia@example.com",status:"На больничном",avatar:"🧑‍⚕️",tab:"social_workers",socialWorkerClients:["Анна Белова"]},{id:14,fullName:"Игорь Петров",phone:"+7 999 222-33-44",email:"igor@example.com",status:"Уволенный",avatar:"🧑‍⚕️",tab:"social_workers",socialWorkerClients:["Дмитрий Орлов"]},{id:15,fullName:"Александр Миронов",phone:"+7 999 333-44-55",email:"mironov@example.com",status:"Активный",avatar:"🧑‍⚕️",tab:"social_workers",socialWorkerClients:["Оксана Лебедева"]},{id:16,fullName:"Тамара Киселева",phone:"+7 999 444-55-66",email:"tamara@example.com",status:"Активный",avatar:"🧑‍⚕️",tab:"social_workers",socialWorkerClients:["Павел Морозов"]},{id:17,fullName:"Владимир Тарасов",phone:"+7 999 555-66-77",email:"vlad@example.com",status:"На больничном",avatar:"🧑‍⚕️",tab:"social_workers",socialWorkerClients:["Татьяна Васильева"]},{id:18,fullName:"Светлана Федорова",phone:"+7 999 666-77-88",email:"sveta@example.com",status:"Уволенный",avatar:"🧑‍⚕️",tab:"social_workers",socialWorkerClients:[]},{id:19,fullName:"Роман Алексеев",phone:"+7 999 777-88-99",email:"roman@example.com",status:"Активный",avatar:"🧑‍⚕️",tab:"social_workers",socialWorkerClients:[]},{id:20,fullName:"Елена Громова",phone:"+7 999 888-99-00",email:"elena@example.com",status:"В отпуске",avatar:"🧑‍⚕️",tab:"social_workers",socialWorkerClients:[]},{id:21,fullName:"Админ Системы",phone:"+7 777 123-45-67",email:"admin@example.com",status:"Активный",socialWorker:"-",avatar:"🛠️",tab:"admins"},{id:22,fullName:"Михаил Логинов",phone:"+7 777 000-11-22",email:"mikhail@example.com",status:"Уволенный",socialWorker:"-",avatar:"🛠️",tab:"admins"},{id:23,fullName:"Светлана Иванова",phone:"+7 777 111-22-33",email:"svet@example.com",status:"Активный",socialWorker:"-",avatar:"🛠️",tab:"admins"},{id:24,fullName:"Андрей Колесников",phone:"+7 777 222-33-44",email:"andrey@example.com",status:"Уволенный",socialWorker:"-",avatar:"🛠️",tab:"admins"},{id:25,fullName:"Тимур Галимов",phone:"+7 777 333-44-55",email:"timur@example.com",status:"Активный",socialWorker:"-",avatar:"🛠️",tab:"admins"},{id:26,fullName:"Ирина Шестакова",phone:"+7 777 444-55-66",email:"irina@example.com",status:"Уволенный",socialWorker:"-",avatar:"🛠️",tab:"admins"},{id:27,fullName:"Рустам Власов",phone:"+7 777 555-66-77",email:"rustam@example.com",status:"Активный",socialWorker:"-",avatar:"🛠️",tab:"admins"},{id:28,fullName:"Марина Ларина",phone:"+7 777 666-77-88",email:"marina@example.com",status:"Уволенный",socialWorker:"-",avatar:"🛠️",tab:"admins"},{id:29,fullName:"Георгий Соловьев",phone:"+7 777 777-88-99",email:"george@example.com",status:"Активный",socialWorker:"-",avatar:"🛠️",tab:"admins"},{id:30,fullName:"Валентина Соколова",phone:"+7 777 888-99-00",email:"valentina@example.com",status:"Уволенный",socialWorker:"-",avatar:"🛠️",tab:"admins"}]),S=c(!1),W=c(!1),E=c(null),T=()=>{E.value=null,W.value=!1,S.value=!0},D=r=>{E.value=r,W.value=!0,S.value=!0},tt=r=>{const e=`${r.lastName} ${r.firstName} ${r.middleName||""}`.trim(),y={...r,fullName:e,status:W.value?r.status:"Активный"};if(W.value){const g=u.value.findIndex(w=>w.id===E.value.id&&w.tab==="admins");g!==-1&&(u.value[g]={...y,id:E.value.id,tab:"admins"})}else{const g=u.value.length>0?Math.max(...u.value.map(w=>w.id))+1:1;u.value.push({...y,id:g,avatar:"🛠️",tab:"admins"})}A()},A=()=>{S.value=!1,E.value=null},O=I(()=>{let r=u.value.filter(e=>e.tab===m.value).filter(e=>e.fullName.toLowerCase().includes(b.value.toLowerCase())).filter(e=>!f.value||e.status===f.value);return a.value==="status"&&(r=r.slice().sort((e,y)=>l.value==="asc"?e.status.localeCompare(y.status,"ru"):y.status.localeCompare(e.status,"ru"))),r});function M(r){a.value===r?l.value=l.value==="asc"?"desc":"asc":(a.value=r,l.value="asc")}const U=I(()=>{const r=(s.value-1)*q;return O.value.slice(r,r+q)}),V=I(()=>Math.ceil(O.value.length/q));function j(r){r>=1&&r<=V.value&&(s.value=r)}function G(r){p.value=r,N.value=!0}function et(){p.value=null,N.value=!1}const lt=r=>{u.value=u.value.filter(e=>e.id!==r)},F=c(null),at=r=>{F.value=r,W.value=!0,S.value=!0},st=r=>{const e=`${r.lastName} ${r.firstName} ${r.middleName||""}`.trim(),y={...r,fullName:e,tab:"social_workers",status:W.value?r.status:"Активный"};if(W.value&&F.value){const g=u.value.findIndex(w=>w.id===F.value.id);g!==-1&&(u.value[g]={...y,id:F.value.id})}else{const g=u.value.length?Math.max(...u.value.map(w=>w.id))+1:1;u.value.push({...y,id:g})}A()};return(r,e)=>(i(),n(P,null,[X(rt(nt),{title:"Пользователи"}),X(ut,{breadcrumbs:[{title:"Пользователи",href:"/users"}]},{default:dt(()=>{var y,g,w,H,J,K,Q;return[t("div",Ft,[t("div",_t,[k(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>b.value=o),class:"rounded border p-2 dark:bg-gray-800 dark:text-white",placeholder:"Поиск по ФИО..."},null,512),[[x,b.value]]),m.value==="clients"?(i(),n("button",{key:0,onClick:T,class:"rounded bg-blue-600 px-4 py-2 text-white hover:bg-blue-700"}," Добавить клиента ")):v("",!0),m.value==="social_workers"?(i(),n("button",{key:1,onClick:T,class:"rounded bg-blue-600 px-4 py-2 text-white hover:bg-blue-700"}," Добавить соц. работника ")):v("",!0),m.value==="admins"?(i(),n("button",{key:2,onClick:T,class:"rounded bg-blue-600 px-4 py-2 text-white hover:bg-blue-700"}," Добавить администратора ")):v("",!0)]),t("div",Bt,[t("button",{onClick:e[1]||(e[1]=o=>{m.value="clients",s.value=1}),class:C([m.value==="clients"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 dark:text-white","rounded px-4 py-1"])}," Клиенты ",2),t("button",{onClick:e[2]||(e[2]=o=>{m.value="social_workers",s.value=1}),class:C([m.value==="social_workers"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 dark:text-white","rounded px-4 py-1"])}," Соц. работники ",2),t("button",{onClick:e[3]||(e[3]=o=>{m.value="admins",s.value=1}),class:C([m.value==="admins"?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 dark:text-white","rounded px-4 py-1"])}," Администраторы ",2)]),t("div",It,[m.value==="clients"?(i(),n("table",Tt,[t("thead",At,[t("tr",null,[e[13]||(e[13]=t("th",{class:"p-2 text-left"},"ФИО",-1)),e[14]||(e[14]=t("th",{class:"p-2 text-left"},"Доп. инфо",-1)),e[15]||(e[15]=t("th",{class:"p-2 text-left"},"Телефон",-1)),e[16]||(e[16]=t("th",{class:"p-2 text-left"},"E-mail",-1)),e[17]||(e[17]=t("th",{class:"p-2 text-left"},"Соц. работник",-1)),e[18]||(e[18]=t("th",{class:"p-2 text-left"},"Тип клиента",-1)),t("th",{class:"cursor-pointer p-2 text-left select-none",onClick:e[4]||(e[4]=o=>M("status"))},[e[12]||(e[12]=$(" Статус ")),a.value==="status"?(i(),n("span",Mt,d(l.value==="asc"?"▲":"▼"),1)):v("",!0)]),e[19]||(e[19]=t("th",{class:"p-2 text-center"},"Управление",-1))])]),t("tbody",null,[(i(!0),n(P,null,B(U.value,o=>(i(),n("tr",{key:o.id,class:"border-t hover:bg-gray-50 dark:border-gray-700 dark:hover:bg-gray-700"},[t("td",qt,d(o.fullName),1),t("td",{class:"cursor-pointer p-2",onClick:_=>G(o)},[t("span",Lt,d(o.avatar),1)],8,zt),t("td",Ot,d(o.phone),1),t("td",Gt,d(o.email),1),t("td",Ht,d(o.socialWorker),1),t("td",Jt,d(o.type),1),t("td",Kt,[t("span",{class:C(o.status==="Активный"?"text-green-600":"text-gray-400")},d(o.status),3)]),e[20]||(e[20]=t("td",{class:"p-2 text-center"},[t("div",{class:"flex justify-center gap-2"},[t("button",{title:"Редактировать",class:"text-blue-500 hover:scale-110"},"✏️"),t("button",{title:"Удалить",class:"text-red-500 hover:scale-110"},"🗑️")])],-1))]))),128)),U.value.length===0?(i(),n("tr",Qt,e[21]||(e[21]=[t("td",{colspan:"8",class:"p-4 text-center text-gray-400"},"Нет данных для отображения",-1)]))):v("",!0)])])):m.value==="social_workers"?(i(),n("table",Rt,[t("thead",Xt,[t("tr",null,[e[23]||(e[23]=t("th",{class:"p-2 text-left"},"ФИО",-1)),e[24]||(e[24]=t("th",{class:"p-2 text-left"},"Клиенты",-1)),e[25]||(e[25]=t("th",{class:"p-2 text-left"},"Телефон",-1)),e[26]||(e[26]=t("th",{class:"p-2 text-left"},"Email",-1)),t("th",{class:"cursor-pointer p-2 text-left select-none",onClick:e[5]||(e[5]=o=>M("status"))},[e[22]||(e[22]=$(" Статус ")),a.value==="status"?(i(),n("span",Yt,d(l.value==="asc"?"▲":"▼"),1)):v("",!0)]),e[27]||(e[27]=t("th",{class:"p-2 text-left"},"Управление",-1))])]),t("tbody",null,[(i(!0),n(P,null,B(U.value,o=>(i(),n("tr",{key:o.id,class:"border-t hover:bg-gray-50 dark:border-gray-700 dark:hover:bg-gray-700"},[t("td",Zt,d(o.fullName),1),t("td",{class:"cursor-pointer p-2",onClick:_=>G(o)},d(o.avatar),9,Dt),t("td",te,d(o.phone),1),t("td",ee,d(o.email),1),t("td",le,[t("span",{class:C({"font-medium text-green-600":o.status==="Активный","font-medium text-yellow-500":o.status==="В отпуске","font-medium text-red-500":o.status==="Уволенный","font-medium text-blue-500":o.status==="На больничном","text-gray-400":!["Активный","Уволенный","В отпуске","На больничном"].includes(o.status)})},d(o.status),3)]),t("td",ae,[t("div",se,[t("button",{title:"Редактировать",onClick:_=>at(o)},"✏️",8,oe),e[28]||(e[28]=t("button",{title:"Удалить"},"🗑️",-1))])])]))),128)),U.value.length===0?(i(),n("tr",ie,e[29]||(e[29]=[t("td",{colspan:"6",class:"p-4 text-center text-gray-400"},"Нет данных",-1)]))):v("",!0)])])):(i(),n("table",re,[t("thead",ne,[t("tr",null,[e[31]||(e[31]=t("th",{class:"p-2 text-left"},"ФИО",-1)),e[32]||(e[32]=t("th",{class:"p-2 text-left"},"Телефон",-1)),e[33]||(e[33]=t("th",{class:"p-2 text-left"},"Email",-1)),t("th",{class:"cursor-pointer p-2 text-left select-none",onClick:e[6]||(e[6]=o=>M("status"))},[e[30]||(e[30]=$(" Статус ")),a.value==="status"?(i(),n("span",de,d(l.value==="asc"?"▲":"▼"),1)):v("",!0)]),e[34]||(e[34]=t("th",{class:"p-2 text-center"},"Управление",-1))])]),t("tbody",null,[(i(!0),n(P,null,B(U.value,o=>(i(),n("tr",{key:o.id,class:"border-t hover:bg-gray-50 dark:border-gray-700 dark:hover:bg-gray-700"},[t("td",ue,d(o.fullName),1),t("td",me,d(o.phone),1),t("td",pe,d(o.email),1),t("td",ve,[t("span",{class:C({"font-medium text-green-600":o.status==="Активный","font-medium text-red-500":o.status==="Уволенный","text-gray-400":!["Активный","Уволенный"].includes(o.status)})},d(o.status),3)]),t("td",be,[t("div",ke,[t("button",{onClick:_=>D(o),title:"Редактировать",class:"text-blue-500 hover:scale-110"},"✏️",8,ce),t("button",{onClick:_=>lt(o.id),title:"Удалить",class:"text-red-500 hover:scale-110"},"🗑️",8,xe)])])]))),128)),U.value.length===0?(i(),n("tr",fe,e[35]||(e[35]=[t("td",{colspan:"5",class:"p-4 text-center text-gray-400"},"Нет данных",-1)]))):v("",!0)])])),S.value?(i(),z(jt,{key:3,"active-tab":m.value,"model-value":m.value==="admins"?E.value:F.value,"is-edit":W.value,onSubmit:e[7]||(e[7]=o=>m.value==="admins"?tt:st),onCancel:A},null,8,["active-tab","model-value","is-edit"])):v("",!0)]),t("div",ge,[t("div",ye,[t("button",{onClick:e[8]||(e[8]=o=>j(s.value-1)),disabled:s.value===1,class:"rounded border px-3 py-1 disabled:opacity-50 dark:border-gray-600"}," ‹ ",8,we),t("button",{onClick:e[9]||(e[9]=o=>j(1)),class:C(["rounded border px-3 py-1 dark:border-gray-600",s.value===1?"bg-blue-600 text-white":""])}," 1 ",2),s.value>3?(i(),n("span",he,"...")):v("",!0),r.p>1&&r.p<V.value?(i(!0),n(P,{key:1},B([s.value-1,s.value,s.value+1],o=>(i(),n("button",{key:o,onClick:_=>j(o),class:C(["rounded border px-3 py-1 dark:border-gray-600",s.value===o?"bg-blue-600 text-white":""])},d(o),11,Ne))),128)):v("",!0),s.value<V.value-2?(i(),n("span",Ce,"...")):v("",!0),V.value>1?(i(),n("button",{key:3,onClick:e[10]||(e[10]=o=>j(V.value)),class:C(["rounded border px-3 py-1 dark:border-gray-600",s.value===V.value?"bg-blue-600 text-white":""])},d(V.value),3)):v("",!0),t("button",{onClick:e[11]||(e[11]=o=>j(s.value+1)),disabled:s.value===V.value,class:"rounded border px-3 py-1 disabled:opacity-50 dark:border-gray-600"}," › ",8,$e)])]),N.value?(i(),n("div",We,[t("div",{class:"mb-4 flex items-center justify-between"},[e[36]||(e[36]=t("h2",{class:"text-lg font-bold"},"Информация о пользователе",-1)),t("button",{onClick:et,class:"text-gray-500 hover:text-black dark:hover:text-white"},"✖")]),t("p",null,[e[37]||(e[37]=t("strong",null,"ФИО:",-1)),$(" "+d((y=p.value)==null?void 0:y.fullName),1)]),t("p",null,[e[38]||(e[38]=t("strong",null,"Телефон:",-1)),$(" "+d((g=p.value)==null?void 0:g.phone),1)]),t("p",null,[e[39]||(e[39]=t("strong",null,"Email:",-1)),$(" "+d((w=p.value)==null?void 0:w.email),1)]),t("p",null,[e[40]||(e[40]=t("strong",null,"Статус:",-1)),$(" "+d((H=p.value)==null?void 0:H.status),1)]),m.value==="clients"?(i(),n("p",Ve,[e[41]||(e[41]=t("strong",null,"Соц. работник:",-1)),$(" "+d((J=p.value)==null?void 0:J.socialWorker),1),e[42]||(e[42]=t("br",null,null,-1)),e[43]||(e[43]=t("strong",null,"Тип:",-1)),$(" "+d((K=p.value)==null?void 0:K.type),1)])):m.value==="social_workers"?(i(),n("div",Ee,[e[44]||(e[44]=t("strong",null,"Клиенты:",-1)),t("ul",Ue,[(i(!0),n(P,null,B((Q=p.value)==null?void 0:Q.socialWorkerClients,o=>(i(),n("li",{key:o},d(o),1))),128))])])):v("",!0)])):v("",!0)])]}),_:1})],64))}});export{Ie as default};
