<script setup lang="ts">
import AuthLayout from '@/layouts/AuthLayout.vue';
import { Head, Link, useForm } from '@inertiajs/vue3';

// –§–æ—Ä–º–∞ –¥–ª—è –≤—ã—Ö–æ–¥–∞
const form = useForm();
const logout = () => {
    form.post(route('logout'));
};
</script>

<template>
    <Head title="–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å">
        <link rel="preconnect" href="https://rsms.me/" />
        <link rel="stylesheet" href="https://rsms.me/inter/inter.css" />
    </Head>

    <AuthLayout
        :title="$page.props.auth.user ? '–í—ã —É–∂–µ –≤–æ—à–ª–∏ –≤ —Å–∏—Å—Ç–µ–º—É —Ä–∞–Ω–µ–µ' : '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å üëã'"
        :description="$page.props.auth.user ? '–í—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–π—Ç–∏ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç' : '–í–æ–π–¥–∏—Ç–µ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å'"
    >
        <div class="flex flex-col gap-4">
            <template v-if="$page.props.auth.user">
                <!-- –í—ã–≤–æ–¥ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                <p class="text-center text-lg text-[#1b1b18] dark:text-white">–ü—Ä–∏–≤–µ—Ç, {{ $page.props.auth.user.name }}!</p>

                <!-- –ö–Ω–æ–ø–∫–∞ "–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞–±–∏–Ω–µ—Ç" -->
                <Link
                    :href="route('users')"
                    class="inline-block w-full rounded-lg border border-gray-300 bg-white px-5 py-2 text-sm font-medium text-[#1b1b18] transition hover:bg-gray-100 dark:border-gray-600 dark:bg-[#2a2a2a] dark:text-white dark:hover:bg-[#3a3a3a]"
                >
                    –ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞–±–∏–Ω–µ—Ç
                </Link>

                <!-- –ö–Ω–æ–ø–∫–∞ "–í—ã–π—Ç–∏" -->
                <Button
                    @click="logout"
                    class="inline-block w-full rounded-lg border border-red-300 bg-red-100 px-5 py-2 text-sm font-medium text-red-600 transition hover:bg-red-200 dark:border-red-600 dark:bg-[#3a3a3a] dark:text-red-400 dark:hover:bg-[#5a5a5a]"
                >
                    –í—ã–π—Ç–∏
                </Button>
            </template>

            <template v-else>
                <!-- –ö–Ω–æ–ø–∫–∏ –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
                <Link
                    :href="route('login')"
                    class="inline-block w-full rounded-lg bg-[#1b1b18] px-5 py-2 text-center text-sm font-medium text-white transition hover:bg-[#2b2b24] dark:bg-white dark:text-[#1b1b18] dark:hover:bg-[#e5e5e5]"
                >
                    –í–æ–π—Ç–∏
                </Link>
                <Link
                    :href="route('register')"
                    class="inline-block w-full rounded-lg border border-gray-300 bg-white px-5 py-2 text-center text-sm font-medium text-[#1b1b18] transition hover:bg-gray-100 dark:border-gray-600 dark:bg-[#2a2a2a] dark:text-white dark:hover:bg-[#3a3a3a]"
                >
                    –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
                </Link>
            </template>
        </div>
    </AuthLayout>
</template>
